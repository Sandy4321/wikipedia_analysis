{{Другие значения}}
[[Файл:Comparator symbol.svg|thumb|200px|Аналоговый компаратор на [[операционный усилитель|операционном усилителе]]]]
[[Файл:Проходная характеристика компаратора.jpg|thumb|200px|Проходная характеристика неинвертирующего компаратора]]
'''Компаратор''' (аналоговых сигналов) (англ. comparator — сравнивающее устройство<ref>[http://lingvo.yandex.ru/en?text=Comparator&st_translate=on&stpar2=1 Перевод из «Англо-русского словаря по вычислительной технике и программированию» ABBYY Lingvo]</ref>) — электронная схема, принимающая на свои входы два аналоговых сигнала и выдающая логическую «1», если сигнал на прямом входе («+») больше, чем на инверсном входе («−»), и логический «0», если сигнал на прямом входе меньше, чем на инверсном входе.

Одно напряжение сравнения двоичного компаратора делит весь диапазон входных напряжений на два поддиапазона. Двоичный логический сигнал ([[бит]]) на выходе двоичного компаратора указывает, в каком из двух поддиапазонов находится входное напряжение.

Простейший компаратор представляет собой [[дифференциальный усилитель]]. Компаратор отличается от линейного [[операционный усилитель|операционного усилителя]] (ОУ) устройством и входного, и выходного каскадов:
* Входной каскад компаратора должен выдерживать широкий диапазон входных напряжений между инвертирующим и неинвертирующим входами, вплоть до размаха питающих напряжений, и быстро восстанавливаться при изменении знака этого напряжения.
* Выходной каскад компаратора выполняется совместимым по логическим уровням и токам с конкретным типом входов логических схем (технологий [[ТТЛ]], [[ЭСЛ]] и т. п.). Возможны выходные каскады на одиночном [[транзистор]]е с [[Транзистор#Схемы с открытым коллектором (стоком)|открытым коллектором]] (совместимость с ТТЛ и [[КМОП]] логикой).
* Для формирования [[гистерезис]]ной передаточной характеристики компараторы часто охватывают положительной обратной связью. Эта мера позволяет избежать быстрых нежелательных переключений состояния выхода, обусловленном шумами во входном сигнале, при медленно изменяющемся входном сигнале.

При подаче эталонного напряжения сравнения на инвертирующий вход входной сигнал подаётся на неинвертирующий вход, и компаратор является неинвертирующим (повторителем, буфером).

При подаче эталонного напряжения сравнения на неинвертирующий вход входной сигнал подаётся на инвертирующий вход, и компаратор является инвертирующим ([[инвертор (логический элемент)|инвертором]]).

Несколько реже применяются компараторы на основе логических элементов, охваченных [[обратная связь|обратной связью]] (см., например, [[триггер Шмитта]] — не компаратор по своей природе, но устройство с очень схожей областью применения).

При математическом моделировании компаратора возникает проблема выходного напряжения компаратора при одинаковых напряжениях на обоих входах компаратора. В этой точке компаратор находится в состоянии [[равновесие|неустойчивого равновесия]]. Проблему можно решить многими разными способами, описанными в подразделе «программный компаратор».

== Реализации ==
В аналоговой схемотехнике компаратор обычно реализуется на базе [[операционный усилитель|операционного усилителя]], охваченного резистивной положительной обратной связью.

=== Программный компаратор ===
В компьютерах и в микроконтроллерах в качестве первого приближения можно использовать простейшую модель асимметричного компаратора, в котором третье значение с равными величинами сравниваемых входных переменных постоянно приписывается к «0» или к «1», в примере, приведенном ниже, третье значение постоянно приписывается к «0»:<br />
 DEFINT Y
 DEFSNG X
 Xref=2.5
 Xin=2.6
 IF Xin>Xref THEN Y=1 ELSE Y=0 'Асимметричный компаратор
 PRINT Y
В более сложных моделях симметричных компараторов третье значение можно, в рамках [[Двоичная логика|двоичной логики]]:<br />
1. приписывать к «0» или к «1» случайным образом,<br />
2. учитывать предыдущее значение и считать равенство недостаточным для переключения,<br />
3. учитывать первую производную и её равенство нулю считать недостаточным для переключения,<br />
или выйти за рамки двоичной логики и:<br />
4. для учёта третьего значения (равенство) применить соответствующую [[Троичные функции|троичную функцию]] из чёткой [[Троичная логика|троичной логики]] с чётким третьим значением.

Существующая проблема третьего состояния при алгоритмическом проектировании, когда два числа в представлении ЦЭВМ могут быть в точности равны, на практике не имеет места: два напряжения не могут в точности совпадать, так как, во-первых, напряжение по определению величина неквантуемая, а во-вторых, существует шум, напряжение смещения входов, и иные возмущения, разрешающие неоднозначность даже в случае замыкания обоих входов аналогового компаратора.

== Компараторы с двумя и более напряжениями сравнения ==
Строятся на двух и более дифференциальных усилителях.

Компараторы, построенные на двух дифференциальных усилителях, можно условно разделить на двухвходовые и трёхвходовые. Двухвходовые компараторы применяются в тех случаях, когда сигнал изменяется достаточно быстро (не вызывает быстрых переключений состояния выхода, и на выходе генерируют один из потенциалов, которыми запитаны операционные усилители (как правило — +5В или 0В).
<!--=== Троичный компаратор ===
Трёхвходовые (троичные) компараторы имеют более широкую область применения и обладают двумя опорными потенциалами, за счёт чего их [[вольт-амперная характеристика]] может представлять собой прямоугольную петлю [[гистерезис]]а. Два напряжения сравнения делят весь диапазон входных напряжений на три поддиапазона. Троичный логический сигнал ([[трит]]) на выходе троичного компаратора указывает, в каком из трёх поддиапазонов находится входное напряжение. Применяются в '''прецизионном [[Триггер Шмитта|триггере Шмитта]] с RS-триггером'''. Путано написано, наверно, в оригинале неточности, и неверно, ВАХ вовсе не причем — ДИ-->

=== Троичный компаратор ===
Трёхвходовой (троичный) компаратор имеет два напряжения сравнения. Два напряжения сравнения делят весь диапазон входных напряжений на три нечётких поддиапазона в [[Троичная логика|нечёткой (fuzzy) троичной логике]], которым присваиваются три чётких значения в [[Троичная логика|чёткой троичной логике]]. Двухбитный троичный (2B BCT) логический сигнал ([[трит]]) на выходе троичного компаратора указывает, в каком из трёх поддиапазонов находится входное напряжение. Логическая часть троичного компаратора выполняет [[Троичные функции#Унарные троичные логические функции|унарную троичную логическую функцию]] — «повторитель» (F107<sub>3</sub> = F8<sub>10</sub>). Двухбитный троичный трит (2B BCT) может быть преобразован в трёхбитный трит (3B BCT) или в трёхуровневый трит (3LCT).

Троичный компаратор является простейшим одноразрядным троичным [[АЦП]].

Троичный компаратор является переходником из [[Троичная логика|нечёткой (fuzzy) троичной логики]] в [[Троичная логика|чёткую троичную логику]] для решения задач нечёткой троичной логики средствами чёткой троичной логики.

Применяется в '''[[Триггер Шмитта#Простой (без обратной связи)|прецизионном триггере Шмитта с RS-триггером]]'''.

Троичный компаратор низкого качества с двоичными компараторами на цифровых логических элементах применён в троичном индикаторе напряжения источника питания с преобразованием двухбитного трита (2B BCT) в трёхбитный одноединичный трит (3B BCT)<ref>[http://www.chipdip.ru/video.aspx?vid=ID000510281 Простые устройства на микросхеме К155ЛА3]</ref>.

=== Многовходовые компараторы ===
Входной каскад параллельных [[АЦП]] прямого преобразования является многоуровневым компаратором. В нём применяются <math>2^n-1</math> напряжений сравнения, где n — количество битов выходного кода.

== Интегральные компараторы ==
Пример широко известных компараторов: LM311 (российский аналог — КР554СА3), LM339 (российский аналог — К1401СА1). Эта [[микросхема]] часто встречается, в частности, на системных платах [[ЭВМ]], а также в системах управления ШИМ контроллеров в блоках преобразования напряжения (например, в компьютерных блоках питания с системой питания ATX). Подробнее о них можно узнать из книги «Электроника», О. В. Миловзоров, И. Г. Панков — 2004; «Электронные приборы и усилители», Ф. И. Вайсбурд, Г. А. Панаев, Б. Н. Савельев — 2005

== Примечания ==
{{примечания}}

== Ссылки ==
* [http://www.gaw.ru/html.cgi/txt/doc/comparator/comp_1.htm Аналоговые компараторы, теория работы]

[[Категория:Сопряжение цифровых и аналоговых систем]]
[[Категория:Логические элементы]]