'''Фа́зовая автоподстро́йка частоты''' ('''ФАПЧ''') — [[система автоматического регулирования]], подстраивающая [[Фаза колебаний|фазу]] управляемого генератора так, чтобы она была равна фазе [[опорный сигнал|опорного сигнала]], либо отличалась на известную функцию от времени. Регулировка осуществляется благодаря наличию [[Отрицательная обратная связь|отрицательной обратной связи]]. Выходной сигнал управляемого генератора сравнивается на [[Фазовый детектор|фазовом детекторе]] с опорным [[сигнал]]ом, результат сравнения используется для подстройки управляемого генератора.

Система ФАПЧ используется для частотной [[Модуляция|модуляции]] и демодуляции, умножения и преобразования частоты, частотной фильтрации, выделения опорного колебания для [[Когерентное детектирование|когерентного детектирования]] и в других целях.

ФАПЧ сравнивает фазы входного и опорного сигналов и выводит сигнал ошибки, соответствующий разности между этими фазами. Сигнал ошибки проходит далее через фильтр низких частот и используется в качестве управляющего для генератора, управляемого напряжением (ГУН), обеспечивающего отрицательную обратную связь. Если выходная частота отклоняется от опорной, то сигнал ошибки увеличивается, воздействуя на ГУН в сторону уменьшения ошибки. В состоянии равновесия выходной сигнал фиксируется на частоте опорного.

[[Файл:PhaseLockedLoop.svg]]

ФАПЧ широко используется в радиотехнике, телекоммуникациях, компьютерах и других электронных устройствах. Данная система может генерировать сигнал постоянной частоты, восстанавливать сигнал из зашумлённого коммуникационного канала или распределять сигналы синхронизации в цифровых логических схемах, таких, как [[микропроцессор]]ы, [[ПЛИС]] и т. д. Поскольку [[интегральная схема]] может полностью реализовать блок ФАПЧ, этот метод часто используется в современных электронных устройствах с выходными частотами от долей герца до многих гигагерц.

== Аналогия ==
[[Музыкальный строй|Настройка]] струны на гитаре может быть сравнена с процессом фазовой автоподстройки частоты. Используя камертон или камертон-дудку для получения опорной частоты, натяжение струны регулируется до тех пор, пока [[биения]] перестанут быть слышны. Это сигнализирует о том, что камертон и гитарная струна вибрируют на одной частоте. Если представить, что гитара может быть идеально настроена на опорный тон камертона, и строй будет сохраняться, можно говорить о том, что струна гитары стабилизирована по фазе с камертоном.

== История ==
Первые исследования, которые стали известны под названием фазовой автоподстройки частоты, относятся к 1932 году, когда была разработана альтернатива [[Супергетеродинный радиоприёмник|супергетеродинному радиоприёмнику]] [[Армстронг, Эдвин|Эдвина Армстронга]] — гомодинный или [[радиоприёмник прямого преобразования]]. В гомодинной или синхродинной системе, [[Генератор колебаний электрический|генератор]] настроен на выбранную входную частоту, а его сигнал умножается на входной. Результирующий выходной сигнал несёт в себе информацию о модуляции. Целью является разработка схемы альтернативного приёмника, которая требует меньше настраиваемых электрических цепей, чем супергетеродинный приёмник. Так как частота локального генератора частоты приёмника быстро меняется, сигнал автокоррекции подаётся на вход генератора, позволяя ему сохранять фазу и частоту такой же, как и у входного сигнала. Данная методика была описана в 1932 году в статьях [[Henri de Bellescize]] во французском журнале ''Onde Electrique''<ref>[http://www.uoguelph.ca/~antoon/gadgets/pll/pll.html Notes for a University of Guelph course describing the PLL and early history, including an IC PLL tutorial]</ref>.

В аналоговых телевизионных приёмниках по крайней мере, начиная с конца 30-х годов прошлого века, система фазовой автроподстройки частоты горизонтальной и вертикальной развёртки настраивается по импульсам синхронизации сигнала вещания<ref>[http://www.sxlist.com/techref/io/video/ntsc.htm  National Television Systems Committee Video Display Signal]</ref>.

Линейка монолитных интегральных схем, внедрённых {{не переведено 3|Signetics|Signetics|en|Signetics}} в 1969, представляла собой чипы, полностью реализующие систему ФАПЧ<ref>A. B. Grebene, H. R. Camenzind, «Phase Locking As A New Approach For Tuned Integrated Circuits», ISSCC Digest of Technical Papers, pp. 100—101, Feb. 1969.</ref>. Несколькими годами позже RCA внедрили «CD4046» [[CMOS]], микроваттную ФАПЧ, что стало распространённой интегральной схемой.

== Структура и функции ==
Устройства ФАПЧ могут быть реализованы как аналоговой, так и цифровой схемой. Обе реализации используют одинаковую структурную схему.
Как аналоговая, так и цифровая схема ФАПЧ включает в себя 3 основных элемента:
* [[фазовый детектор]]
* [[Генератор колебаний электрический|регулируемый генератор]]
* [[обратная связь (техника)|обратная связь]] (часто включающая в себя [[:en:frequency divider|делитель частоты]])

== Цифровая фазовая автоподстройка частоты ==
Цифровая фазовая автоподстройка частоты (ЦФАПЧ) работает схожим образом с аналоговой, но полностью реализуется с помощью цифровых схем. Вместо ГУН используются системные часы и счётчик-делитель под цифровым управлением. ЦФАПЧ более проста в разработке и реализации, меньше чувствительна к шумам напряжения (по сравнению с аналоговой), однако, обычно она допускает [[фазовый шум]] по причине наличия [[шум квантования|шума квантования]] при использовании цифрового генератора. Вследствие этого ЦФАПЧ непригодны для работы на высокой частоте или управления высокочастотными опорными сигналами. ЦФАПЧ иногда используются для восстановления данных.

== Аналоговая фазовая автоподстройка частоты ==

=== Принципиальная схема ===
Аналоговые ФАПЧ состоят из [[фазовый детектор|фазового детектора]], [[фильтр низких частот|фильтра низких частот]] и [[генератор, управляемый напряжением|генератора, управляемого напряжением]], собранных в схему с [[отрицательная обратная связь|отрицательной обратной связью]]. Также в схеме может присутствовать [[делитель частоты]] — в обратной связи и/или на пути опорного сигнала с целью получения на выходе частоты опорного сигнала, умноженной на целое число. Нецелое умножение опорной частоты может осуществляться путём перемещения элементарного умножителя частоты на обратную связь с программируемым счётчиком импульсов.

Генератор вырабатывает периодический выходной сигнал. Предполагается, что начальная частота генератора приблизительна равна опорной. Если фаза генератора запаздывает относительно фазы опорного сигнала, фазовый детектор изменяет управляющее напряжение на генераторе, что приводит к его ускорению. Аналогично, если фаза смещается, обгоняя фазу опорного, фазовый детектор изменяет напряжение для замедления генератора. Фильтр низких частот сглаживает резкие изменения управляющего напряжения. Можно показать, что такая фильтрация требуется для стабильных систем.

Полезным выводом ФАПЧ-системы является либо вывод управляемого генератора, либо управляющий генератором сигнал (в зависимости от того, что требуется в конкретной системе).

=== Основы ===

==== Фазовый детектор ====
{{main|Фазовый детектор}}
Два входа [[Фазовый детектор|фазового детектора]] (ФД) являются опорным сигналом и обратной связью, реализуемой генератором, управляемым напряжением (ГУН). Выход с ФД управляет ГУН таким образом, что разность фаз между двумя входами поддерживается постоянной, таким образом образуя систему с отрицательной обратной связью.

Существует несколько типов ФД в двух основных категориях: цифровой и аналоговой.

===== Аналоговая схема =====
Аналоговый ФД является одним из видов идеального [[смеситель (электроника)|смесителя]]. Это устройство производит умножение двух мгновенных входных напряжений. Результатом процесса умножения является суммарный и разностный сигнал смесителя, однако при его использовании в качестве ФД, требуется [[фильтр нижних частот|фильтр низких частот]] для ослабления частоты суммы. Когда оставшаяся разностная частота столь низкая, чтобы пройти через фильтр с достаточной амплитудой, она сдвигает частоту ГУН ближе к опорной, позволяя цепи после небольшого периода зафиксировать частоту. Этот процесс называется ''захватом'', а максимальная разность частот (опорного сигнала и ГУН), при которой возможна фиксация — ''полоса захвата''. Цепь является зафиксированной, если ГУН работает на частоте, равной опорной и, возможно, немного отличается от опорного сигнала по фазе.

== Примечания ==
{{примечания}}

== Литература ==
* {{книга
|заглавие = Цифровые интегральные схемы. Методология проектирования
|оригинал = Digital Integrated Circuits
|автор = Жан М. Рабаи, Ананта Чандракасан, Боривож Николич.
|isbn = 0-13-090996-3
|страницы = 912
|год = 2007
|издание = 2-е изд
|место = М.
|издательство = [[Вильямс (издательство)|Вильямс]]
}}

== Ссылки ==
* [http://dsplib.ru/content/pll/pll.html Контур фазовой автоподстройки частоты и его основные свойства]
* [http://dsplib.ru/content/dpll/dpll.html Цифровой контур ФАПЧ (digital PLL) и его свойства]

{{rq|refless}}
{{Радиоприёмник}}
[[Категория:Генератор (электроника)]]